import{d as V,r as c,c as L,a as h,o as S,u as x,b as a,e,w as O,f as g,g as p,v,t as i,h as T,F as w,i as F,j as o,n as U,_ as B}from"./index-CblIsNI7.js";import{P as E,g as I,h as M,s as b}from"./localStorage-gGBUY11W.js";const P={class:"screen"},q={class:"card"},A={key:0,class:"section"},D={class:"form__field"},R={key:0,class:"error"},j={class:"form__field"},z={class:"form__field"},G={key:0,class:"error"},H={key:1,class:"section"},K={class:"levels"},Y=["onClick"],$={key:0,class:"error error--center"},J=V({__name:"OnboardingView",setup(Q){const f=x(),m=c(1),N=L(()=>E),r=I(),t=h({fullName:r.fullName??"",gender:r.gender??"male",age:r.age??""}),u=c(r.proficiencyLevel??null),l=h({fullName:"",age:"",level:""}),_=()=>(l.fullName="",l.age="",(!t.fullName||t.fullName.length<2)&&(l.fullName="Vui lòng nhập tên hợp lệ"),typeof t.age!="number"||Number.isNaN(t.age)?l.age="Vui lòng nhập tuổi":(t.age<7||t.age>60)&&(l.age="Ứng dụng hiện hỗ trợ người dùng từ 7 đến 60 tuổi"),!l.fullName&&!l.age),y=()=>{if(!_())return;const d={fullName:t.fullName,gender:t.gender,age:typeof t.age=="number"?t.age:void 0};b(d),m.value=2},C=d=>{u.value=d,l.level=""},k=()=>{if(!u.value){l.level="Vui lòng chọn trình độ của bạn";return}b({fullName:t.fullName,gender:t.gender,age:typeof t.age=="number"?t.age:void 0,proficiencyLevel:u.value,hasCompletedOnboarding:!0}),f.push("/assignment")};return S(()=>{M()?f.replace("/assignment"):r.proficiencyLevel&&(m.value=2)}),(d,n)=>(o(),a("div",P,[n[10]||(n[10]=e("div",{class:"floating floating--top","aria-hidden":"true"},null,-1)),n[11]||(n[11]=e("div",{class:"floating floating--bottom","aria-hidden":"true"},null,-1)),e("main",q,[m.value===1?(o(),a("section",A,[n[8]||(n[8]=e("header",{class:"section__header"},[e("h1",null,"Chào mừng!"),e("p",null," AI-Tutor muốn biết thêm một chút về bạn để có thể đồng hành cùng bạn học tiếng Anh hiệu quả hơn. ")],-1)),e("form",{class:"form",onSubmit:O(y,["prevent"])},[e("label",D,[n[3]||(n[3]=e("span",null,"Họ và tên",-1)),g(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>t.fullName=s),type:"text",name:"fullName",placeholder:"Tên của bạn",autocomplete:"off",required:""},null,512),[[v,t.fullName,void 0,{trim:!0}]]),l.fullName?(o(),a("small",R,i(l.fullName),1)):p("",!0)]),e("label",j,[n[5]||(n[5]=e("span",null,"Giới tính",-1)),g(e("select",{"onUpdate:modelValue":n[1]||(n[1]=s=>t.gender=s),name:"gender"},[...n[4]||(n[4]=[e("option",{value:"male"},"Nam",-1),e("option",{value:"female"},"Nữ",-1),e("option",{value:"other"},"Khác",-1)])],512),[[T,t.gender]])]),e("label",z,[n[6]||(n[6]=e("span",null,"Tuổi",-1)),g(e("input",{"onUpdate:modelValue":n[2]||(n[2]=s=>t.age=s),type:"number",min:"7",max:"60",step:"1",name:"age",placeholder:"16",required:""},null,512),[[v,t.age,void 0,{number:!0}]]),l.age?(o(),a("small",G,i(l.age),1)):p("",!0)]),n[7]||(n[7]=e("button",{class:"button",type:"submit"},"Tiếp tục",-1))],32)])):(o(),a("section",H,[n[9]||(n[9]=e("header",{class:"section__header"},[e("h1",null,"Trình độ tiếng Anh"),e("p",null," Chọn trình độ phù hợp để chúng tôi gợi ý lộ trình học tập dành riêng cho bạn. ")],-1)),e("div",K,[(o(!0),a(w,null,F(N.value,s=>(o(),a("button",{key:s.id,type:"button",class:U(["level",{"level--active":u.value===s.id}]),onClick:W=>C(s.id)},[e("strong",null,i(s.name),1),e("small",null,i(s.description),1)],10,Y))),128))]),l.level?(o(),a("p",$,i(l.level),1)):p("",!0),e("button",{class:"button",type:"button",onClick:k}," Bắt đầu hành trình học tập ")]))])]))}}),ee=B(J,[["__scopeId","data-v-8634fda7"]]);export{ee as default};
