import{d as $,r as w,c as d,o as j,b as h,k as C,e,t as a,l as E,m as R,T as S,p as q,g as F,j as p,F as O,i as P,n as U,_ as G}from"./index-CblIsNI7.js";import{N as K}from"./Navbar-DwRIBrG9.js";import{a as Z}from"./localStorage-gGBUY11W.js";const D=[{word:"apple",choices:["apple","pepper","shrimp","rice"],answerIndex:0},{word:"banana",choices:["banana","beef","spinach","cheese"],answerIndex:0},{word:"carrot",choices:["salmon","carrot","orange","bread"],answerIndex:1},{word:"rice",choices:["noodles","garlic","rice","tomato"],answerIndex:2},{word:"bread",choices:["yogurt","bread","onion","shrimp"],answerIndex:1},{word:"cheese",choices:["cheese","honey","banana","spinach"],answerIndex:0},{word:"tomato",choices:["tomato","beef","carrot","apple"],answerIndex:0},{word:"pepper",choices:["pepper","rice","yogurt","banana"],answerIndex:0},{word:"yogurt",choices:["cheese","shrimp","yogurt","lettuce"],answerIndex:2},{word:"salmon",choices:["salmon","garlic","orange","mushroom"],answerIndex:0},{word:"lettuce",choices:["lettuce","beef","noodles","apple"],answerIndex:0},{word:"noodles",choices:["spinach","noodles","bread","pepper"],answerIndex:1},{word:"garlic",choices:["garlic","honey","shrimp","rice"],answerIndex:0},{word:"onion",choices:["banana","onion","cheese","tomato"],answerIndex:1},{word:"orange",choices:["orange","apple","spinach","shrimp"],answerIndex:0},{word:"beef",choices:["beef","lettuce","rice","honey"],answerIndex:0},{word:"shrimp",choices:["carrot","shrimp","yogurt","garlic"],answerIndex:1},{word:"honey",choices:["banana","pepper","honey","apple"],answerIndex:2},{word:"spinach",choices:["rice","spinach","bread","tomato"],answerIndex:1},{word:"mushroom",choices:["mushroom","orange","salmon","cheese"],answerIndex:0}],X={class:"quiz-screen"},Y={class:"quiz-main"},H={key:0,class:"quiz-card"},J={class:"quiz-card__header"},W={class:"quiz-progress"},ee={class:"quiz-progress__label"},se={class:"quiz-progress__bar"},oe={class:"quiz-score"},ne={class:"quiz-question"},te={class:"quiz-question__word"},ae={class:"quiz-choices"},re=["disabled","onClick"],ie={class:"quiz-footer"},ce=["disabled"],le={key:1,class:"quiz-card quiz-card--result"},ue={class:"quiz-card__header quiz-card__header--result"},de={class:"quiz-body quiz-body--result"},he={class:"quiz-scoreboard"},pe={class:"quiz-scoreboard__ring"},_e={class:"quiz-scoreboard__message"},ve={key:0,class:"quiz-tip"},_=10,we="vocabulary-quiz",me="food",fe=$({__name:"AssignmentView",setup(be){const z=w([]),v=w(0),m=w(null),c=w(0),r=w("awaiting"),f=w(""),y=o=>{const s=[...o];for(let n=s.length-1;n>0;n-=1){const t=Math.floor(Math.random()*(n+1));[s[n],s[t]]=[s[t],s[n]]}return s},I=()=>{const s=y(D.slice()).slice(0,_).map(n=>{const t=n.choices.map((i,b)=>({choice:i,isCorrect:b===n.answerIndex})),u=y(t);return{word:n.word,choices:u.map(i=>i.choice),correctIndex:u.findIndex(i=>i.isCorrect)}});z.value=s,v.value=0,m.value=null,c.value=0,r.value="awaiting"},l=d(()=>z.value[v.value]),k=d(()=>v.value+1),g=d(()=>r.value==="review"),x=d(()=>v.value===_-1),T=d(()=>r.value==="finished"),N=d(()=>{const o=(v.value+(r.value==="finished"?1:0))/_;return`${Math.min(o*100,100)}%`}),B=o=>{r.value==="awaiting"&&(m.value=o,l.value&&o===l.value.correctIndex&&(c.value+=1),r.value="review")},M=()=>{if(r.value==="review"){if(x.value){r.value="finished",Z({type:we,topic:me,score:c.value});return}v.value+=1,m.value=null,r.value="awaiting"}},V=()=>{I()},A=o=>!g.value||!l.value?"":o===l.value.correctIndex?"quiz-choice--correct":o===m.value?"quiz-choice--wrong":"quiz-choice--muted",Q=d(()=>{const o=c.value/_;return o===1?"Báº¡n lÃ  báº­c tháº§y áº©m thá»±c! ðŸŽ‰":o>=.7?"Tuyá»‡t vá»i! Báº¡n hiá»ƒu biáº¿t ráº¥t nhiá»u vá» áº©m thá»±c.":o>=.4?"KhÃ¡ tá»‘t! Tiáº¿p tá»¥c luyá»‡n táº­p Ä‘á»ƒ ghi nhá»› nhiá»u hÆ¡n nhÃ©.":"Äá»«ng bá» cuá»™c, chÆ¡i láº¡i Ä‘á»ƒ thuá»™c thÃªm nhiá»u tá»« má»›i!"}),L=async()=>{var o;try{const s=await fetch("https://www.themealdb.com/api/json/v1/1/random.php");if(!s.ok)throw new Error("Bad response");const n=await s.json(),t=(o=n==null?void 0:n.meals)==null?void 0:o[0];if(t!=null&&t.strMeal){const u=t.strArea?` (${t.strArea})`:"";f.value=`${t.strMeal}${u} - thá»­ tÃ¬m hiá»ƒu thÃªm Ä‘á»ƒ má»Ÿ rá»™ng vá»‘n tá»«!`}}catch{f.value=""}};return j(()=>{I(),L()}),(o,s)=>(p(),h("div",X,[C(K),e("main",Y,[T.value?(p(),h("section",le,[e("header",ue,[s[3]||(s[3]=e("h2",null,"Káº¿t quáº£ cá»§a báº¡n",-1)),e("p",null,[s[2]||(s[2]=q("Báº¡n tráº£ lá»i Ä‘Ãºng ",-1)),e("strong",null,a(c.value),1),q(" / "+a(_)+" cÃ¢u há»i.")])]),e("div",de,[e("div",he,[e("div",pe,[e("span",null,a(c.value),1),e("small",null,"/ "+a(_))]),e("p",_e,a(Q.value),1)]),f.value?(p(),h("aside",ve,[s[4]||(s[4]=e("h3",null,"Gá»£i Ã½ mÃ³n Äƒn cho báº¡n ðŸ½ï¸",-1)),e("p",null,a(f.value),1)])):F("",!0)]),e("footer",{class:"quiz-footer quiz-footer--result"},[e("button",{type:"button",class:"quiz-footer__btn",onClick:V}," ChÆ¡i láº¡i ")])])):(p(),h("section",H,[e("header",J,[e("div",W,[e("span",ee," CÃ¢u há»i "+a(k.value)+" / "+a(_),1),e("div",se,[e("div",{class:"quiz-progress__fill",style:E({width:N.value})},null,4)])]),e("div",oe,[s[0]||(s[0]=e("span",null,"Äiá»ƒm hiá»‡n táº¡i",-1)),e("strong",null,a(c.value),1)])]),C(S,{name:"fade-slide",mode:"out-in"},{default:R(()=>{var n,t,u;return[(p(),h("div",{class:"quiz-body",key:(n=l.value)==null?void 0:n.word},[e("h2",ne,[s[1]||(s[1]=q(" Chá»n nghÄ©a Ä‘Ãºng cho tá»« ",-1)),e("span",te,"â€œ"+a((t=l.value)==null?void 0:t.word)+"â€",1)]),e("div",ae,[(p(!0),h(O,null,P(((u=l.value)==null?void 0:u.choices)??[],(i,b)=>(p(),h("button",{key:i,type:"button",class:U(["quiz-choice",A(b)]),disabled:g.value,onClick:ge=>B(b)},[e("span",null,a(i),1)],10,re))),128))])]))]}),_:1}),e("footer",ie,[e("button",{type:"button",class:"quiz-footer__btn",disabled:!g.value,onClick:M},a(x.value?"Xem káº¿t quáº£":"CÃ¢u tiáº¿p theo"),9,ce)])]))])]))}}),Ie=G(fe,[["__scopeId","data-v-e8066359"]]);export{Ie as default};
